import{l as x,u as q,k as F,c as V,w as c,o as l,d as e,t as d,b as r,a as n,g as u,m as $,F as C,p as m}from"./app-e9c942b5.js";import{_ as B}from"./AuthenticatedLayout-adef8562.js";import{_ as M}from"./InputError-4c239cd2.js";import{u as N,c as p,r as f}from"./index.esm-06c43c7d.js";const S=e("div",{class:"intro-y flex items-center mt-8"},[e("h2",{class:"text-lg font-medium mr-auto"},"upload invoices")],-1),E={class:"grid grid-cols-12 gap-6 mt-5"},T={class:"intro-y col-span-12 lg:col-span-6"},U={class:"intro-y box p-5"},I={class:""},A={for:"crud-form-1",class:"form-label"},D={class:"grid grid-cols-3 gap-2"},L=e("option",{value:""},null,-1),j=["value"],z=e("label",{for:"crud-form-1",class:"form-label"}," Tickets",-1),G=e("label",{for:"crud-form-1",class:"form-label"}," Items",-1),H={class:"text-right mt-5"},Q={__name:"Upload",props:{branches:{type:Array,required:!0}},setup(_){const b=_,{t:a}=x(),s=q({tickets:null,items:null,branch:""}),h=F(()=>({tickets:{required:p.withMessage(a("validation.required",{attribute:"tickets"}),f)},branch:{required:p.withMessage(a("validation.required",{attribute:"branch"}),f)}})),i=N(h,s),g=async()=>{await i.value.$validate()&&s.post(route("dashboard.invoices.upload.store"),{onSuccess:()=>{s.reset()}})};return(v,o)=>{const y=m("TomSelect"),k=m("FrontErrorMessage");return l(),V(B,null,{default:c(()=>[S,e("div",E,[e("div",T,[e("div",U,[e("div",I,[e("label",A,d(r(a)("validation.attributes.branch")),1),e("div",D,[n(y,{id:"crud-form-2",modelValue:r(s).branch,"onUpdate:modelValue":o[0]||(o[0]=t=>r(s).branch=t),options:{create:!1}},{default:c(()=>[L,(l(!0),u(C,null,$(b.branches,(t,w)=>(l(),u("option",{key:w,value:t.id},d(t.name),9,j))),128))]),_:1},8,["modelValue"])]),n(M,{class:"mt-2",message:r(s).errors.branch},null,8,["message"]),n(k,{errors:r(i).branch.$errors},null,8,["errors"])]),e("div",null,[z,e("input",{id:"crud-form-1",type:"file",class:"form-control w-full",onChange:o[1]||(o[1]=t=>r(s).tickets=t.target.files[0]),placeholder:"Name"},null,32)]),e("div",null,[G,e("input",{id:"crud-form-1",type:"file",class:"form-control w-full",onChange:o[2]||(o[2]=t=>r(s).items=t.target.files[0]),placeholder:"Name"},null,32)]),e("div",H,[e("button",{type:"button",class:"btn btn-primary w-24",onClick:o[3]||(o[3]=t=>g())}," Upload ")])])])])]),_:1})}}};export{Q as default};
