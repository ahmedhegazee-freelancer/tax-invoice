import{l as x,u as $,k as F,c as V,w as m,o as i,d as e,t as p,b as r,a,g as f,m as C,F as M,p as _}from"./app-e352f1f9.js";import{_ as B}from"./AuthenticatedLayout-1edc6954.js";import{_ as b}from"./InputError-c7ee7193.js";import{u as N,c,r as u}from"./index.esm-cda8abb8.js";const S=e("div",{class:"intro-y flex items-center mt-8"},[e("h2",{class:"text-lg font-medium mr-auto"},"upload invoices")],-1),E={class:"grid grid-cols-12 gap-6 mt-5"},T={class:"intro-y col-span-12 lg:col-span-6"},U={class:"intro-y box p-5"},I={class:""},A={for:"crud-form-1",class:"form-label"},D={class:"grid grid-cols-3 gap-2"},L=e("option",{value:""},null,-1),j=["value"],z=e("label",{for:"crud-form-1",class:"form-label"}," Tickets",-1),G=e("label",{for:"crud-form-1",class:"form-label"}," Items",-1),H={class:"text-right mt-5"},Q={__name:"Upload",props:{branches:{type:Array,required:!0}},setup(g){const h=g,{t:l}=x(),s=$({tickets:null,items:null,branch:""}),v=F(()=>({tickets:{required:c.withMessage(l("validation.required",{attribute:"tickets"}),u)},items:{required:c.withMessage(l("validation.required",{attribute:"items"}),u)},branch:{required:c.withMessage(l("validation.required",{attribute:"branch"}),u)}})),n=N(v,s),y=async()=>{await n.value.$validate()&&s.post(route("dashboard.invoices.upload.store"),{onSuccess:()=>{s.reset()}})};return(k,o)=>{const w=_("TomSelect"),d=_("FrontErrorMessage");return i(),V(B,null,{default:m(()=>[S,e("div",E,[e("div",T,[e("div",U,[e("div",I,[e("label",A,p(r(l)("validation.attributes.branch")),1),e("div",D,[a(w,{id:"crud-form-2",modelValue:r(s).branch,"onUpdate:modelValue":o[0]||(o[0]=t=>r(s).branch=t),options:{create:!1}},{default:m(()=>[L,(i(!0),f(M,null,C(h.branches,(t,q)=>(i(),f("option",{key:q,value:t.id},p(t.name),9,j))),128))]),_:1},8,["modelValue"])]),a(b,{class:"mt-2",message:r(s).errors.branch},null,8,["message"]),a(d,{errors:r(n).branch.$errors},null,8,["errors"])]),e("div",null,[z,e("input",{id:"crud-form-1",type:"file",class:"form-control w-full",onChange:o[1]||(o[1]=t=>r(s).tickets=t.target.files[0]),placeholder:"Name"},null,32)]),e("div",null,[G,e("input",{id:"crud-form-1",type:"file",class:"form-control w-full",onChange:o[2]||(o[2]=t=>r(s).items=t.target.files[0]),placeholder:"Name"},null,32),a(b,{class:"mt-2",message:r(s).errors.items},null,8,["message"]),a(d,{errors:r(n).items.$errors},null,8,["errors"])]),e("div",H,[e("button",{type:"button",class:"btn btn-primary w-24",onClick:o[3]||(o[3]=t=>y())}," Upload ")])])])])]),_:1})}}};export{Q as default};
