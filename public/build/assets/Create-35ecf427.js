import{l as E,u as I,G as k,k as M,c as S,w as g,o as u,d as s,t as a,b as e,j as v,v as b,a as t,g as f,m as V,e as T,F as x,P as q,s as A,p as U}from"./app-7a2c5f6c.js";import{_ as P}from"./AuthenticatedLayout-c791908e.js";import{_ as c}from"./InputError-fbd0d10f.js";import{u as j,c as D,r as G}from"./index.esm-896f94d3.js";import{s as $,v as L,f as y}from"./UserValidationRules-9abbace9.js";const O={class:"intro-y flex items-center mt-8"},R={class:"text-lg font-medium mr-auto"},z={class:"grid grid-cols-12 gap-6 mt-5"},H={class:"intro-y col-span-12 lg:col-span-6"},J={class:"intro-y box p-5"},K={for:"crud-form-1",class:"form-label"},Q={for:"crud-form-1",class:"form-label"},W={for:"crud-form-1",class:"form-label"},X={for:"crud-form-1",class:"form-label"},Y={class:""},Z={for:"crud-form-1",class:"form-label"},ee={class:"grid grid-cols-3 gap-2"},se=["value"],oe=["src"],re={class:"mt-3"},le={for:"crud-form-2",class:"form-label"},te=["value"],ae={class:"mt-3"},ne={for:"crud-form-2",class:"form-label"},ie=["value"],de={class:"text-right mt-5"},_e={__name:"Create",props:{roles:Array,countries:Array,nationalities:Array},setup(N){const d=N,{t:n}=E(),w=Object.keys(d.countries)[0],C=d.nationalities[0].id,r=I({first_name:"",middle_name:"",last_name:"",email:"",roles:[],country:w,phone:"",nationality:C,gender:"male"});$.value=d.countries[w],k(r.country,p=>{$.value=d.countries[p]}),k(y,p=>{r.phone=`${$.value.phone_code}${p}`});const F=M(()=>({...L(),roles:{required:D.withMessage(n("validation.required",{attribute:"roles"}),G)}})),i=j(F,r),B=async()=>{await i.value.$validate()&&r.post(route("dashboard.user.store"),{onSuccess:()=>{A.Inertia.visit(route("dashboard.user.index"))}})};return(p,l)=>{const m=U("FrontErrorMessage"),h=U("TomSelect");return u(),S(P,null,{default:g(()=>[s("div",O,[s("h2",R,a(e(n)("admin.add")+" "+e(n)("admin.users.admin")),1)]),s("div",z,[s("div",H,[s("div",J,[s("div",null,[s("label",K,a(e(n)("validation.attributes.first_name")),1),v(s("input",{id:"crud-form-1",type:"text",class:"form-control w-full","onUpdate:modelValue":l[0]||(l[0]=o=>e(r).first_name=o),placeholder:"Name"},null,512),[[b,e(r).first_name]]),t(c,{class:"mt-2",message:e(r).errors.first_name},null,8,["message"]),t(m,{errors:e(i).first_name.$errors},null,8,["errors"])]),s("div",null,[s("label",Q,a(e(n)("validation.attributes.middle_name")),1),v(s("input",{id:"crud-form-1",type:"text",class:"form-control w-full","onUpdate:modelValue":l[1]||(l[1]=o=>e(r).middle_name=o),placeholder:"Name"},null,512),[[b,e(r).middle_name]]),t(c,{class:"mt-2",message:e(r).errors.middle_name},null,8,["message"]),t(m,{errors:e(i).middle_name.$errors},null,8,["errors"])]),s("div",null,[s("label",W,a(e(n)("validation.attributes.last_name")),1),v(s("input",{id:"crud-form-1",type:"text",class:"form-control w-full","onUpdate:modelValue":l[2]||(l[2]=o=>e(r).last_name=o),placeholder:"Name"},null,512),[[b,e(r).last_name]]),t(c,{class:"mt-2",message:e(r).errors.last_name},null,8,["message"]),t(m,{errors:e(i).last_name.$errors},null,8,["errors"])]),s("div",null,[s("label",X,a(e(n)("validation.attributes.email")),1),v(s("input",{id:"crud-form-1",type:"email",class:"form-control w-full","onUpdate:modelValue":l[3]||(l[3]=o=>e(r).email=o),placeholder:"Email"},null,512),[[b,e(r).email]]),t(c,{class:"mt-2",message:e(r).errors.email},null,8,["message"]),t(m,{errors:e(i).email.$errors},null,8,["errors"])]),s("div",Y,[s("label",Z,a(e(n)("validation.attributes.phone")),1),s("div",ee,[t(h,{id:"crud-form-2",modelValue:e(r).country,"onUpdate:modelValue":l[4]||(l[4]=o=>e(r).country=o),class:"col-span-1",options:{create:!1}},{default:g(()=>[(u(!0),f(x,null,V(d.countries,(o,_)=>(u(),f("option",{key:_,value:o.id},[s("img",{src:o.icon_url,alt:""},null,8,oe),T(" "+a(o.phone_code),1)],8,se))),128))]),_:1},8,["modelValue"]),v(s("input",{id:"crud-form-1",type:"text",class:"form-control col-span-2","onUpdate:modelValue":l[5]||(l[5]=o=>q(y)?y.value=o:null),placeholder:"Phone"},null,512),[[b,e(y)]])]),t(c,{class:"mt-2",message:e(r).errors.phone},null,8,["message"]),t(m,{errors:e(i).phone.$errors},null,8,["errors"])]),s("div",re,[s("label",le,a(e(n)("validation.attributes.roles")),1),t(h,{id:"crud-form-2",modelValue:e(r).roles,"onUpdate:modelValue":l[6]||(l[6]=o=>e(r).roles=o),class:"w-full",options:{create:!1},multiple:""},{default:g(()=>[(u(!0),f(x,null,V(d.roles,(o,_)=>(u(),f("option",{key:_,value:o.id},a(o.name),9,te))),128))]),_:1},8,["modelValue"]),t(c,{class:"mt-2",message:e(r).errors.roles},null,8,["message"]),t(m,{errors:e(i).roles.$errors},null,8,["errors"])]),s("div",ae,[s("label",ne,a(e(n)("validation.attributes.nationality")),1),t(h,{id:"crud-form-2",modelValue:e(r).nationality,"onUpdate:modelValue":l[7]||(l[7]=o=>e(r).nationality=o),class:"w-full",options:{create:!1}},{default:g(()=>[(u(!0),f(x,null,V(d.nationalities,(o,_)=>(u(),f("option",{key:_,value:o.id},a(o.name),9,ie))),128))]),_:1},8,["modelValue"]),t(c,{class:"mt-2",message:e(r).errors.nationality},null,8,["message"]),t(m,{errors:e(i).nationality.$errors},null,8,["errors"])]),s("div",de,[s("button",{type:"button",class:"btn btn-primary w-24",onClick:l[8]||(l[8]=o=>B())},a(e(n)("admin.add")),1)])])])])]),_:1})}}};export{_e as default};
